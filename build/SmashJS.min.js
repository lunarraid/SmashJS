!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return r(n?n:t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(e,i,r,o,s,a,u,f,p){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i=typeof t;if("base64"===e&&"string"===i)for(t=x(t);t.length%4!==0;)t+="=";var o;if("number"===i)o=F(t);else if("string"===i)o=r.byteLength(t,e);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");o=F(t.length)}var s;r._useTypedArrays?s=r._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(r._useTypedArrays&&"number"==typeof t.byteLength)s._set(t);else if(Y(t))for(a=0;o>a;a++)s[a]=r.isBuffer(t)?t.readUInt8(a):t[a];else if("string"===i)s.write(t,0,e);else if("number"===i&&!r._useTypedArrays&&!n)for(a=0;o>a;a++)s[a]=0;return s}function h(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i),i>o&&(i=o)):i=o;var s=e.length;J(s%2===0,"Invalid hex string"),i>s/2&&(i=s/2);for(var a=0;i>a;a++){var u=parseInt(e.substr(2*a,2),16);J(!isNaN(u),"Invalid hex string"),t[n+a]=u}return r._charsWritten=2*a,a}function c(t,e,n,i){var o=r._charsWritten=Q(R(e),t,n,i);return o}function l(t,e,n,i){var o=r._charsWritten=Q(z(e),t,n,i);return o}function d(t,e,n,i){return l(t,e,n,i)}function g(t,e,n,i){var o=r._charsWritten=Q(D(e),t,n,i);return o}function m(t,e,n,i){var o=r._charsWritten=Q(N(e),t,n,i);return o}function y(t,e,n){return K.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function b(t,e,n){var i="",r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(i+=q(r)+String.fromCharCode(t[o]),r=""):r+="%"+t[o].toString(16);return i+q(r)}function w(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function v(t,e,n){return w(t,e,n)}function _(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=Z(t[o]);return r}function j(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function k(t,e,n,i){i||(J("boolean"==typeof n,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"Trying to read beyond buffer length"));var r=t.length;if(!(e>=r)){var o;return n?(o=t[e],r>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,r>e+1&&(o|=t[e+1])),o}}function S(t,e,n,i){i||(J("boolean"==typeof n,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to read beyond buffer length"));var r=t.length;if(!(e>=r)){var o;return n?(r>e+2&&(o=t[e+2]<<16),r>e+1&&(o|=t[e+1]<<8),o|=t[e],r>e+3&&(o+=t[e+3]<<24>>>0)):(r>e+1&&(o=t[e+1]<<16),r>e+2&&(o|=t[e+2]<<8),r>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function O(t,e,n,i){i||(J("boolean"==typeof n,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"Trying to read beyond buffer length"));var r=t.length;if(!(e>=r)){var o=k(t,e,n,!0),s=32768&o;return s?-1*(65535-o+1):o}}function B(t,e,n,i){i||(J("boolean"==typeof n,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to read beyond buffer length"));var r=t.length;if(!(e>=r)){var o=S(t,e,n,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function E(t,e,n,i){return i||(J("boolean"==typeof n,"missing or invalid endian"),J(e+3<t.length,"Trying to read beyond buffer length")),X.read(t,e,n,23,4)}function A(t,e,n,i){return i||(J("boolean"==typeof n,"missing or invalid endian"),J(e+7<t.length,"Trying to read beyond buffer length")),X.read(t,e,n,52,8)}function C(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"trying to write beyond buffer length"),H(e,65535));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,2);a>s;s++)t[n+s]=(e&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function P(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"trying to write beyond buffer length"),H(e,4294967295));var o=t.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,4);a>s;s++)t[n+s]=e>>>8*(i?s:3-s)&255}function T(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"Trying to write beyond buffer length"),V(e,32767,-32768));var o=t.length;n>=o||(e>=0?C(t,e,n,i,r):C(t,65535+e+1,n,i,r))}function I(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to write beyond buffer length"),V(e,2147483647,-2147483648));var o=t.length;n>=o||(e>=0?P(t,e,n,i,r):P(t,4294967295+e+1,n,i,r))}function M(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to write beyond buffer length"),W(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;n>=o||X.write(t,e,n,i,23,4)}function L(t,e,n,i,r){r||(J(void 0!==e&&null!==e,"missing value"),J("boolean"==typeof i,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+7<t.length,"Trying to write beyond buffer length"),W(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;n>=o||X.write(t,e,n,i,52,8)}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function F(t){return t=~~Math.ceil(+t),0>t?0:t}function G(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function Y(t){return G(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function Z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function R(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(127>=i)e.push(t.charCodeAt(n));else{var r=n;i>=55296&&57343>=i&&n++;for(var o=encodeURIComponent(t.slice(r,n+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function N(t){for(var e,n,i,r=[],o=0;o<t.length;o++)e=t.charCodeAt(o),n=e>>8,i=e%256,r.push(i),r.push(n);return r}function D(t){return K.toByteArray(t)}function Q(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}function q(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function H(t,e){J("number"==typeof t,"cannot write a non-number as a number"),J(t>=0,"specified a negative value for writing an unsigned value"),J(e>=t,"value is larger than maximum value for type"),J(Math.floor(t)===t,"value has a fractional component")}function V(t,e,n){J("number"==typeof t,"cannot write a non-number as a number"),J(e>=t,"value larger than maximum allowed value"),J(t>=n,"value smaller than minimum allowed value"),J(Math.floor(t)===t,"value has a fractional component")}function W(t,e,n){J("number"==typeof t,"cannot write a non-number as a number"),J(e>=t,"value larger than maximum allowed value"),J(t>=n,"value smaller than minimum allowed value")}function J(t,e){if(!t)throw new Error(e||"Failed assertion")}var K=t("base64-js"),X=t("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(n){return!1}}(),r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=R(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=D(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(t,e){if(J(G(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new r(0);if(1===t.length)return t[0];var n;if("number"!=typeof e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,o),o+=s.length}return i},r.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var r=i;i=e,e=n,n=r}e=Number(e)||0;var o=this.length-e;n?(n=Number(n),n>o&&(n=o)):n=o,i=String(i||"utf8").toLowerCase();var s;switch(i){case"hex":s=h(this,t,e,n);break;case"utf8":case"utf-8":s=c(this,t,e,n);break;case"ascii":s=l(this,t,e,n);break;case"binary":s=d(this,t,e,n);break;case"base64":s=g(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=m(this,t,e,n);break;default:throw new Error("Unknown encoding")}return s},r.prototype.toString=function(t,e,n){var i=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0!==n?Number(n):n=i.length,n===e)return"";var r;switch(t){case"hex":r=_(i,e,n);break;case"utf8":case"utf-8":r=b(i,e,n);break;case"ascii":r=w(i,e,n);break;case"binary":r=v(i,e,n);break;case"base64":r=y(i,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=j(i,e,n);break;default:throw new Error("Unknown encoding")}return r},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(t,e,n,i){var o=this;if(n||(n=0),i||0===i||(i=this.length),e||(e=0),i!==n&&0!==t.length&&0!==o.length){J(i>=n,"sourceEnd < sourceStart"),J(e>=0&&e<t.length,"targetStart out of bounds"),J(n>=0&&n<o.length,"sourceStart out of bounds"),J(i>=0&&i<=o.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var s=i-n;if(100>s||!r._useTypedArrays)for(var a=0;s>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+s),e)}},r.prototype.slice=function(t,e){var n=this.length;if(t=U(t,n,0),e=U(e,n,n),r._useTypedArrays)return r._augment(this.subarray(t,e));for(var i=e-t,o=new r(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+t];return o},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.readUInt8=function(t,e){return e||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},r.prototype.readUInt16LE=function(t,e){return k(this,t,!0,e)},r.prototype.readUInt16BE=function(t,e){return k(this,t,!1,e)},r.prototype.readUInt32LE=function(t,e){return S(this,t,!0,e)},r.prototype.readUInt32BE=function(t,e){return S(this,t,!1,e)},r.prototype.readInt8=function(t,e){if(e||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},r.prototype.readInt16LE=function(t,e){return O(this,t,!0,e)},r.prototype.readInt16BE=function(t,e){return O(this,t,!1,e)},r.prototype.readInt32LE=function(t,e){return B(this,t,!0,e)},r.prototype.readInt32BE=function(t,e){return B(this,t,!1,e)},r.prototype.readFloatLE=function(t,e){return E(this,t,!0,e)},r.prototype.readFloatBE=function(t,e){return E(this,t,!1,e)},r.prototype.readDoubleLE=function(t,e){return A(this,t,!0,e)},r.prototype.readDoubleBE=function(t,e){return A(this,t,!1,e)},r.prototype.writeUInt8=function(t,e,n){n||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==e&&null!==e,"missing offset"),J(e<this.length,"trying to write beyond buffer length"),H(t,255)),e>=this.length||(this[e]=t)},r.prototype.writeUInt16LE=function(t,e,n){C(this,t,e,!0,n)},r.prototype.writeUInt16BE=function(t,e,n){C(this,t,e,!1,n)},r.prototype.writeUInt32LE=function(t,e,n){P(this,t,e,!0,n)},r.prototype.writeUInt32BE=function(t,e,n){P(this,t,e,!1,n)},r.prototype.writeInt8=function(t,e,n){n||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==e&&null!==e,"missing offset"),J(e<this.length,"Trying to write beyond buffer length"),V(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n))},r.prototype.writeInt16LE=function(t,e,n){T(this,t,e,!0,n)},r.prototype.writeInt16BE=function(t,e,n){T(this,t,e,!1,n)},r.prototype.writeInt32LE=function(t,e,n){I(this,t,e,!0,n)},r.prototype.writeInt32BE=function(t,e,n){I(this,t,e,!1,n)},r.prototype.writeFloatLE=function(t,e,n){M(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){M(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){L(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){L(this,t,e,!1,n)},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),J("number"==typeof t&&!isNaN(t),"value is not a number"),J(n>=e,"end < start"),n!==e&&0!==this.length){J(e>=0&&e<this.length,"start out of bounds"),J(n>=0&&n<=this.length,"end out of bounds");for(var i=e;n>i;i++)this[i]=t}},r.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=Z(this[i]),i===n.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r._useTypedArrays)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var $=r.prototype;r._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.copy=$.copy,t.slice=$.slice,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t}}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/index.js","/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer")},{"1YiZ5S":4,"base64-js":2,buffer:1,ieee754:3}],2:[function(t,e,n){(function(t,e,i,r,o,s,a,u,f){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===o||e===h?62:e===s||e===c?63:a>e?-1:a+10>e?e-a+26+26:f+26>e?e-f:u+26>e?e-u+26:void 0}function n(t){function n(t){f[h++]=t}var i,o,s,a,u,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=t.length;u="="===t.charAt(p-2)?2:"="===t.charAt(p-1)?1:0,f=new r(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(i=0,o=0;s>i;i+=4,o+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(a>>8&255),n(255&a)),f}function i(t){function e(t){return p.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,r,o,s=t.length%3,a="";for(i=0,o=t.length-s;o>i;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a+=n(r);switch(s){case 1:r=t[t.length-1],a+=e(r>>2),a+=e(r<<4&63),a+="==";break;case 2:r=(t[t.length-2]<<8)+t[t.length-1],a+=e(r>>10),a+=e(r>>4&63),a+=e(r<<2&63),a+="="}return a}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),u="a".charCodeAt(0),f="A".charCodeAt(0),h="-".charCodeAt(0),c="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js","/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib")},{"1YiZ5S":4,buffer:1}],3:[function(t,e,n){(function(t,e,i,r,o,s,a,u,f){n.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,f=u>>1,p=-7,h=n?r-1:0,c=n?-1:1,l=t[e+h];for(h+=c,o=l&(1<<-p)-1,l>>=-p,p+=a;p>0;o=256*o+t[e+h],h+=c,p-=8);for(s=o&(1<<-p)-1,o>>=-p,p+=i;p>0;s=256*s+t[e+h],h+=c,p-=8);if(0===o)o=1-f;else{if(o===u)return s?0/0:(l?-1:1)*(1/0);s+=Math.pow(2,i),o-=f}return(l?-1:1)*s*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var s,a,u,f=8*o-r-1,p=(1<<f)-1,h=p>>1,c=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:o-1,d=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?c/u:c*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=p?(a=0,s=p):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+l]=255&a,l+=d,a/=256,r-=8);for(s=s<<r|a,f+=r;f>0;t[n+l]=255&s,l+=d,s/=256,f-=8);t[n+l-d]|=128*g}}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js","/../node_modules/gulp-browserify/node_modules/browserify/node_modules/buffer/node_modules/ieee754")},{"1YiZ5S":4,buffer:1}],4:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){function p(){}var t=e.exports={};t.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var i=n.shift();i()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")}}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../node_modules/gulp-browserify/node_modules/browserify/node_modules/process/browser.js","/../node_modules/gulp-browserify/node_modules/browserify/node_modules/process")},{"1YiZ5S":4,buffer:1}],5:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(t){this._active=!1,this._owningGroup=null,this._sets=[],this._name=t||""};p.prototype.isBaseObject=!0,p.prototype.noteSetAdd=function(t){this._sets.push(t)},p.prototype.noteSetRemove=function(t){var e=this._sets.indexOf(t);if(-1==e)throw new Error("Tried to remove BaseObject from a GameSet it didn't know it was in!");this._sets.splice(e,1)},p.prototype.initialize=function(){if(null===this._owningGroup)throw new Error("Can't initialize a BaseObject without an owning GameGroup!");this._active=!0},p.prototype.destroy=function(){for(;this._sets.length>0;)this._sets[this._sets.length-1].remove(this);this._owningGroup&&(this._owningGroup.noteRemove(this),this._owningGroup=null),this._active=!1},p.prototype.constructor=p,Object.defineProperty(p.prototype,"name",{get:function(){return this._name},set:function(t){if(this._active&&this._owningGroup)throw new Error("Cannot change BaseObject name after initialize() is called and while in a GameGroup.");this._name=t}}),Object.defineProperty(p.prototype,"sets",{get:function(){return this._sets}}),Object.defineProperty(p.prototype,"owningGroup",{get:function(){return this._owningGroup},set:function(t){if(!t)throw new Error("A BaseObject must always be in a GameGroup.");this._owningGroup&&this._owningGroup.noteRemove(this),this._owningGroup=t,this._owningGroup.noteAdd(this)}}),e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/BaseObject.js","/core")},{"1YiZ5S":4,buffer:1}],6:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(){this.bindings=[],this._safetyFlag=!1,this._name="",this._owner=null};p.prototype.isGameComponent=!0,p.prototype.addBinding=function(t,e){this.bindings.push(t+"||"+e)},p.prototype.removeBinding=function(t,e){var n=t+"||"+e,i=this.bindings.indexOf(n);-1!==i&&this.bindings.splice(i,1)},p.prototype.applyBindings=function(){if(!this.propertyManager)throw new Error("Couldn't find a PropertyManager instance");for(var t=0;t<this.bindings.length;t++)this.propertyManager.applyBinding(this,this.bindings[t])},p.prototype.doAdd=function(){if(this.propertyManager=this.owner.getManager(PropertyManager),this._safetyFlag=!1,this.onAdd(),this._safetyFlag===!1)throw new Error("You forget to call onAdd() on supr in an onAdd override.")},p.prototype.doRemove=function(){if(this._safetyFlag=!1,this.onRemove(),this._safetyFlag===!1)throw new Error("You forget to call onRemove() on supr in an onRemove handler.")},p.prototype.onAdd=function(){this._safetyFlag=!0},p.prototype.onRemove=function(){this._safetyFlag=!0},p.prototype.constructor=p,Object.defineProperty(p.prototype,"name",{get:function(){return this._name},set:function(t){if(this._owner)throw new Error("Already added to GameObject, can't change name of GameComponent.");this._name=t}}),Object.defineProperty(p.prototype,"owner",{get:function(){return this._owner}}),e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/GameComponent.js","/core")},{"1YiZ5S":4,buffer:1}],7:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./BaseObject.js"),c=t("../util/SmashMap.js"),l=function(){h.call(this),this._items=[],this._managers=new c};l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.contains=function(t){return t.owningGroup===this},l.prototype.getGameObjectAt=function(t){return this._items[t]},l.prototype.initialize=function(){},l.prototype.destroy=function(){for(h.prototype.destroy.call(this);this.length;)this.getGameObjectAt(this.length-1).destroy();for(var t=this._managers.length-1;t>=0;t--){var e=this._managers.getKeyAt(t),n=this._managers.getValueAt(t);n&&n.destroy&&n.destroy(),this._managers.remove(e)}},l.prototype.noteRemove=function(t){var e=this._items.indexOf(t);if(-1==e)throw new Error("Can't find GameObject in GameGroup! Inconsistent group membership!");this._items.splice(e,1)},l.prototype.noteAdd=function(t){this._items.push(t)},l.prototype.registerManager=function(t,e){return this._managers.put(t,e),e.owningGroup=this,e.initialize&&e.initialize(),e},l.prototype.getManager=function(t){var e=this._managers.get(t);if(!e){if(this.owningGroup)return this.owningGroup.getManager(t);throw new Error("Can't find manager "+t+"!")}return e},l.prototype.lookup=function(t){for(var e=0;e<this._items.length;e++)if(this._items[e].name===t)return this._items[e];return null},Object.defineProperty(l.prototype,"length",{get:function(){return this._items.length}}),e.exports=l}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/GameGroup.js","/core")},{"../util/SmashMap.js":22,"./BaseObject.js":5,"1YiZ5S":4,buffer:1}],8:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./BaseObject.js"),c=t("../property/PropertyManager.js"),l=t("./Signal.js"),d=function(t){h.call(this,t),this.broadcast=new l,this._deferring=!0,this._components={}};d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.prototype.doInitialize=function(t){t._owner=this,t.doAdd()},d.prototype.addComponent=function(t,e){if(e&&(t.name=e),!t.name)throw"Can't add component with no name.";return this._components[t.name]=t,t._owner=this,void 0===this[t.name]&&(this[t.name]=t),this._deferring?this._components["!"+t.name]=t:this.doInitialize(t),t},d.prototype.removeComponent=function(t){if(t.owner!==this)throw"Tried to remove a component that does not belong to this GameGameObject.";this[t.name]===t&&(this[t.name]=null),this._components[t.name]=null,delete this._components[t.name],t.doRemove(),t._owner=null},d.prototype.lookupComponent=function(t){return this._components[t]},d.prototype.getAllComponents=function(){var t=[];for(var e in this._components)t.push(this._components[e]);return t},d.prototype.initialize=function(){h.prototype.initialize.call(this);for(var t in this){var e=this[t];if(e&&e.isGameComponent&&null===e.owner){if(e.name&&e.name!==t)throw new Error("GameComponent has name '"+e.name+"' but is set into field named '"+t+"', these need to match!");e.name=t,this.addComponent(e)}}this.deferring=!1;for(var n in this._components){if(!this._components[n].propertyManager)throw new Error("Failed to inject component properly.");this._components[n].applyBindings()}},d.prototype.destroy=function(){for(var t in this._components)this.removeComponent(this._components[t]);this.broadcast.removeAll(),h.prototype.destroy.call(this)},d.prototype.getManager=function(t){return this.owningGroup.getManager(t)},d.prototype.getProperty=function(t,e){return this.getManager(c).getProperty(this,t,e)},d.prototype.setProperty=function(t,e){this.getManager(c).setProperty(this,t,e)},Object.defineProperty(d.prototype,"deferring",{get:function(){return this._deferring},set:function(t){if(this._deferring&&t===!1)for(var e=!0;e;){e=!1;for(var n in this._components)"!"===n.charAt(0)&&(this.doInitialize(this._components[n]),this._components[n]=null,delete this._components[n],e=!0)}this._deferring=t}}),e.exports=d}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/GameObject.js","/core")},{"../property/PropertyManager.js":16,"./BaseObject.js":5,"./Signal.js":10,"1YiZ5S":4,buffer:1}],9:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./BaseObject.js"),c=function(){h.call(this),this.items=[]};c.prototype=Object.create(h.prototype),c.prototype.constructor=c,c.prototype.add=function(t){this.items.push(t),t.noteSetAdd(this)},c.prototype.remove=function(t){var e=this.items.indexOf(t);if(-1===e)throw"Requested GameObject is not in this GameSet.";this.items.splice(e,1),t.noteSetRemove(this)},c.prototype.contains=function(t){return-1!==this.items.indexOf(t)},c.prototype.getGameObjectAt=function(t){return this.items[t]},Object.defineProperty(c.prototype,"length",{get:function(){return this.items.length}}),e.exports=c}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/GameSet.js","/core")},{"./BaseObject.js":5,"1YiZ5S":4,buffer:1}],10:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){p.prototype.dispatch.apply(t,arguments)}};p.prototype={VERSION:"::VERSION_NUMBER::",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,i){var r,o=this._indexOfListener(t,n);if(-1!==o){if(r=this._bindings[o],r.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new SignalBinding(this,t,e,n,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===t&&n.context===e)return i;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return this.validateListener(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){this.validateListener(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){e=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(e[i]&&this._shouldPropagate&&e[i].execute(n)!==!1)}}},validateListener:function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/Signal.js","/core")},{"1YiZ5S":4,buffer:1}],11:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(t,e,n,i,r){this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this._priority=r||0};p.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/core/SignalBinding.js","/core")},{"1YiZ5S":4,buffer:1}],12:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){i.SmashJS=e.exports={BaseObject:t("./core/BaseObject.js"),GameObject:t("./core/GameObject.js"),GameSet:t("./core/GameSet.js"),GameGroup:t("./core/GameGroup.js"),GameComponent:t("./core/GameComponent.js"),
Signal:t("./core/Signal.js"),SignalBinding:t("./core/SignalBinding.js"),ComponentPlugin:t("./property/ComponentPlugin.js"),FieldPlugin:t("./property/FieldPlugin.js"),PropertyInfo:t("./property/PropertyInfo.js"),PropertyManager:t("./property/PropertyManager.js"),AnimatedComponent:t("./time/AnimatedComponent.js"),QueuedComponent:t("./time/QueuedComponent.js"),TickedComponent:t("./time/TickedComponent.js"),TimeManager:t("./time/TimeManager.js"),SimplePriorityQueue:t("./util/SimplePriorityQueue.js"),SmashMap:t("./util/SmashMap.js")}}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_91aa70af.js","/")},{"./core/BaseObject.js":5,"./core/GameComponent.js":6,"./core/GameGroup.js":7,"./core/GameObject.js":8,"./core/GameSet.js":9,"./core/Signal.js":10,"./core/SignalBinding.js":11,"./property/ComponentPlugin.js":13,"./property/FieldPlugin.js":14,"./property/PropertyInfo.js":15,"./property/PropertyManager.js":16,"./time/AnimatedComponent.js":17,"./time/QueuedComponent.js":18,"./time/TickedComponent.js":19,"./time/TimeManager.js":20,"./util/SimplePriorityQueue.js":21,"./util/SmashMap.js":22,"1YiZ5S":4,buffer:1}],13:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./FieldPlugin.js"),c=function(){this.fieldResolver=new h};c.prototype.resolve=function(t,e,n){var i;if(t.isBaseObject)i=t;else{if(!t.isGameComponent)throw"Can't find entity to do lookup!";i=t.owner}var r=i.lookupComponent(e[1]);e.length>2?this.fieldResolver.resolveFull(r,e,n,2):(n.object=r,n.field=null)},c.prototype.constructor=c,e.exports=c}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/property/ComponentPlugin.js","/property")},{"./FieldPlugin.js":14,"1YiZ5S":4,buffer:1}],14:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(){};p.prototype.resolve=function(t,e,n){for(var i=t,r=0;r<e.length-1;r++)i=i[e[r]];n.object=i,n.field=e[e.length-1]},p.prototype.resolveFull=function(t,e,n,i){void 0===i&&(i=0);for(var r=t,o=i;o<e.length-1;o++)r=r[e[o]];n.object=r,n.field=e[e.length-1]},p.prototype.constructor=p,e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/property/FieldPlugin.js","/property")},{"1YiZ5S":4,buffer:1}],15:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(){this.object=null,this.field=null};p.prototype.constructor=p,p.prototype.getValue=function(){return this.field?this.object[this.field]:this.object},p.prototype.setValue=function(t){this.object[this.field]=t},p.prototype.clear=function(){this.object=null,this.field=null},e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/property/PropertyInfo.js","/property")},{"1YiZ5S":4,buffer:1}],16:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./PropertyInfo.js"),c=t("./ComponentPlugin.js"),l=function(){this.propertyPlugins={},this.parseCache={},this.cachedPi=new h,this.bindingCache={},this.registerPropertyType("@",new c)};l.prototype.constructor=l,l.prototype.registerPropertyType=function(t,e){this.propertyPlugins[t]=e},l.prototype.findProperty=function(t,e,n){if(null===e||0===e.length)return null;this.parseCache[e]||(this.parseCache[e]=[e.charAt(0)].concat(e.substr(1).split(".")));var i=this.parseCache[e],r=this.propertyPlugins[i[0]];if(!r)throw"Unknown prefix '"+i[0]+"' in '"+e+"'.";return r.resolve(t,i,n),n},l.prototype.applyBinding=function(t,e){this.bindingCache[e]||(this.bindingCache[e]=e.split("||"));var n=this.bindingCache[e],i=this.findProperty(t,n[1],this.cachedPi).getValue();t[n[0]]!==i&&(t[n[0]]=i)},l.prototype.getProperty=function(t,e,n){var i=this.findProperty(t,e,this.cachedPi);return i?i.getValue():n},l.prototype.setProperty=function(t,e,n){var i=this.findProperty(t,e,this.cachedPi);null!==i&&i.setValue(n)},e.exports=l}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/property/PropertyManager.js","/property")},{"./ComponentPlugin.js":13,"./PropertyInfo.js":15,"1YiZ5S":4,buffer:1}],17:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("../core/GameComponent.js"),c=t("./TimeManager.js"),l=function(){h.call(this),this.updatePriority=0,this._registerForUpdates=!0,this._isRegisteredForUpdates=!1};l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.onFrame=function(){this.applyBindings()},l.prototype.onAdd=function(){h.prototype.onAdd.call(this),this.timeManager=this.owner.getManager(c),this.registerForUpdates=this.registerForUpdates},l.prototype.onRemove=function(){this.registerForUpdates=!1,h.prototype.onRemove.call(this)},Object.defineProperty(l.prototype,"registerForUpdates",{get:function(){return this._registerForUpdates},set:function(t){this._registerForUpdates=t,this.timeManager&&(this._registerForUpdates&&!this._isRegisteredForUpdates?(this._isRegisteredForUpdates=!0,this.timeManager.addAnimatedObject(this,this.updatePriority)):!this._registerForUpdates&&this._isRegisteredForUpdates&&(this._isRegisteredForUpdates=!1,this.timeManager.removeAnimatedObject(this)))}}),e.exports=l}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/time/AnimatedComponent.js","/time")},{"../core/GameComponent.js":6,"./TimeManager.js":20,"1YiZ5S":4,buffer:1}],18:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("../core/GameComponent.js"),c=t("./TimeManager.js"),l=function(){h.call(this)};l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.think=function(t,e,n){this.nextThinkContext=t,this.nextThinkTime=this.timeManager.virtualTime+n,this.nextThinkCallback=e,this.timeManager.queueObject(this)},l.prototype.unthink=function(){this.timeManager.dequeueObject(this)},l.prototype.onAdd=function(){h.prototype.onAdd.call(this),this.timeManager=this.owner.getManager(c),this.nextThinkContext=null,this.nextThinkCallback=null},l.prototype.onRemove=function(){h.prototype.onRemove.call(this),this.nextThinkContext=null,this.nextThinkCallback=null},Object.defineProperty(l.prototype,"priority",{get:function(){return-this.nextThinkTime}}),e.exports=l}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/time/QueuedComponent.js","/time")},{"../core/GameComponent.js":6,"./TimeManager.js":20,"1YiZ5S":4,buffer:1}],19:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("../core/GameComponent.js"),c=t("./TimeManager.js"),l=function(){h.call(this),this.updatePriority=0,this._registerForUpdates=!0,this._isRegisteredForUpdates=!1};l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.onTick=function(t){this.applyBindings()},l.prototype.onAdd=function(){h.prototype.onAdd.call(this),this.timeManager=this.owner.getManager(c),this.registerForTicks=this.registerForTicks},l.prototype.onRemove=function(){this.registerTicks=!1,h.prototype.onRemove.call(this)},Object.defineProperty(l.prototype,"registerForTicks",{get:function(){return this._registerForUpdates},set:function(t){this._registerForUpdates=t,this.timeManager&&(this._registerForUpdates&&!this._isRegisteredForUpdates?(this._isRegisteredForUpdates=!0,this.timeManager.addTickedObject(this,this.updatePriority)):!this._registerForUpdates&&this._isRegisteredForUpdates&&(this._isRegisteredForUpdates=!1,this.timeManager.removeTickedObject(this)))}}),e.exports=l}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/time/TickedComponent.js","/time")},{"../core/GameComponent.js":6,"./TimeManager.js":20,"1YiZ5S":4,buffer:1}],20:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("../util/SimplePriorityQueue.js"),c=60,l=1/c,d=1e3*l,g=5,m=function(){this.dueTime=0,this.thisObject=null,this.callback=null,this.arguments=null};Object.defineProperty(m.prototype,"priority",{get:function(){return-dueTime},set:function(t){throw"Unimplemented"}});var y=function(){this.deferredMethodQueue=[],this._virtualTime=0,this._interpolationFactor=0,this.timeScale=1,this.lastTime=-1,this.elapsed=0,this.animatedObjects=[],this.tickedObjects=[],this.needPurgeEmpty=!1,this._platformTime=0,this._frameCounter=0,this.duringAdvance=!1,this.thinkHeap=new h(4096),this.disableSlowWarning=!0,this.timeScale=1};y.prototype.constructor=y,y.prototype.initialize=function(){this.started||this.start()},y.prototype.destroy=function(){this.started&&stop()},y.prototype.start=function(){this.started||(this.lastTime=-1,this.elapsed=0,this.started=!0)},y.prototype.stop=function(){this.started&&(this.started=!1)},y.prototype.schedule=function(t,e,n){var i=Array.prototype.slice.call(arguments,3);this.started||this.start();var r=new m;r.dueTime=this._virtualTime+t,r.thisObject=e,r.callback=n,r.arguments=i,this.thinkHeap.enqueue(r)},y.prototype.addAnimatedObject=function(t,e){void 0===e&&(e=0),this.addObject(t,e,this.animatedObjects)},y.prototype.addTickedObject=function(t,e){void 0===e&&(e=0),this.addObject(t,e,this.tickedObjects)},y.prototype.queueObject=function(t){if(t.nextThinkTime<this._virtualTime)throw new Error("Tried to queue something into the past, but no flux capacitor is present!");this.thinkHeap.contains(t)&&this.thinkHeap.remove(t),!this.thinkHeap.enqueue(t)},y.prototype.dequeueObject=function(t){this.thinkHeap.contains(t)&&this.thinkHeap.remove(t)},y.prototype.removeAnimatedObject=function(t){this.removeObject(t,this.animatedObjects)},y.prototype.removeTickedObject=function(t){this.removeObject(t,this.tickedObjects)},y.prototype.callLater=function(t,e){var n=Array.prototype.slice.call(arguments,2),i={context:t,method:e,args:n};deferredMethodQueue.push(i)},y.prototype.addObject=function(t,e,n){if(this.duringAdvance)throw new Error("Unimplemented!");this.started||this.start();for(var i=-1,r=0;r<n.length;r++)if(n[r]){if(n[r].listener===t)return;if(n[r].priority<e){i=r;break}}var o={listener:t,priority:e};0>i||i>=n.length?n.push(o):n.splice(i,0,o)},y.prototype.removeObject=function(t,e){1==this.listenerCount&&0===this.thinkHeap.size&&this.stop();for(var n=0;n<e.length;n++)if(e[n]&&e[n].listener===t)return void(this.duringAdvance?(e[n]=null,this.needPurgeEmpty=!0):e.splice(n,1))},y.prototype.update=function(){if(this.started){var t=Date.now();if(this.lastTime<0)return void(this.lastTime=t);this._frameCounter++;var e=(t-this.lastTime)*this.timeScale;this.advance(e),this.lastTime=t}},y.prototype.advance=function(t,e){void 0===e&&(e=!1),this._platformTime=Date.now();this._virtualTime;this.elapsed+=t;for(var n=0;this.elapsed>=d&&(e||g>n);)this.fireTick(),this.tickCount++;this.tickCount>=g&&!e&&!disableSlowWarning,this.elapsed=this.clamp(this.elapsed,0,300),this.duringAdvance=!0,this._interpolationFactor=this.elapsed/d;for(var i=.001*t,r=0;r<this.animatedObjects.length;r++){var o=this.animatedObjects[r];o&&o.listener.onFrame(i)}if(this.duringAdvance=!1,this.needPurgeEmpty){this.needPurgeEmpty=!1;for(var s=0;s<this.animatedObjects.length;s++)this.animatedObjects[s]||(this.animatedObjects.splice(s,1),s--);for(var a=0;a<this.tickedObjects.length;a++)this.tickedObjects[a]||(this.tickedObjects.splice(a,1),a--)}},y.prototype.fireTick=function(){this._interpolationFactor=0,this.processScheduledObjects(),duringAdvance=!0;for(var t=0;t<this.tickedObjects.length;t++){var e=this.tickedObjects[t];e&&e.listener.onTick(l)}this.duringAdvance=!1,this._virtualTime+=d,this.elapsed-=d},y.prototype.processScheduledObjects=function(){var t=this.deferredMethodQueue;if(t.length>0){this.deferredMethodQueue=[];for(var e=0;e<t.length;e++){var n=t[e];n.method.apply(n.context,n.args)}t.length=0}if(this.thinkHeap.size>0)for(;this.thinkHeap.size>0&&this.thinkHeap.front.priority>=-this._virtualTime;){var i=this.thinkHeap.dequeue();if(i.nextThinkTime)i.nextThinkCallback&&i.nextThinkCallback.call(i.nextThinkContext);else{if(!i.callback)throw"Unknown type found in thinkHeap.";i.callback.apply(i.thisObject,i.arguments)}}},y.prototype.clamp=function(t,e,n){return e=e||0,n=n||0,e>t?e:t>n?n:t},Object.defineProperty(y.prototype,"isTicking",{get:function(){return this.started}}),Object.defineProperty(y.prototype,"interpolationFactor",{get:function(){return this._interpolationFactor}}),Object.defineProperty(y.prototype,"virtualTime",{get:function(){return this._virtualTime}}),Object.defineProperty(y.prototype,"platformTime",{get:function(){return this._platformTime}}),Object.defineProperty(y.prototype,"frameCounter",{get:function(){return this._frameCounter}}),Object.defineProperty(y.prototype,"msPerTick",{get:function(){return d}}),Object.defineProperty(y.prototype,"listenerCount",{get:function(){return this.tickedObjects.length+this.animatedObjects.length}}),e.exports=y}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/time/TimeManager.js","/time")},{"../util/SimplePriorityQueue.js":21,"1YiZ5S":4,buffer:1}],21:[function(t,e,n){(function(n,i,r,o,s,a,u,f,p){var h=t("./SmashMap.js"),c=function(t){this._size=t+1,this._heap=new Array(this._size),this._posLookup=new h,this._count=0};c.prototype.constructor=c,c.prototype.enqueue=function(t){return this._count+1<this._size?(this._count++,this._heap[this._count]=t,this._posLookup.put(t,this._count),this.walkUp(this._count),!0):!1},c.prototype.dequeue=function(){if(this._count>=1){var t=this._heap[1];return this._posLookup.remove(t),this._heap[1]=this._heap[this._count],this.walkDown(1),this._heap[this._count]=null,this._count--,t}return null},c.prototype.reprioritize=function(t,e){if(!this._posLookup.get(t))return!1;var n=t.priority;t.priority=e;var i=this._posLookup.get(t);return e>n?this.walkUp(i):this.walkDown(i),!0},c.prototype.remove=function(t){if(this._count>=1){var e=this._posLookup.get(t),n=this._heap[e];return this._posLookup.remove(n),this._heap[e]=this._heap[this._count],this.walkDown(e),this._heap[this._count]=null,this._posLookup.remove(this._count),this._count--,!0}return!1},c.prototype.contains=function(t){return null!==this._posLookup.get(t)},c.prototype.clear=function(){this._heap=new Array(this._size),this._posLookup=new Map,this._count=0},c.prototype.isEmpty=function(){return 0===this._count},c.prototype.toArray=function(){return this._heap.slice(1,this._count+1)},c.prototype.toString=function(){return"[SimplePriorityQueue, size="+_size+"]"},c.prototype.dump=function(){if(0===this._count)return"SimplePriorityQueue (empty)";for(var t="SimplePriorityQueue\n{\n",e=this._count+1,n=1;e>n;n++)t+="	"+this._heap[n]+"\n";return t+="\n}"},c.prototype.walkUp=function(t){for(var e,n=t>>1,i=this._heap[t],r=i.priority;n>0&&(e=this._heap[n],r-e.priority>0);)this._heap[t]=e,this._posLookup.put(e,t),t=n,n>>=1;this._heap[t]=i,this._posLookup.put(i,t)},c.prototype.walkDown=function(t){for(var e,n=t<<1,i=this._heap[t],r=i.priority;n<this._count&&(n<this._count-1&&this._heap[n].priority-this._heap[n+1].priority<0&&n++,e=this._heap[n],r-e.priority<0);)this._heap[t]=e,this._posLookup.put(e,t),this._posLookup.put(i,n),t=n,n<<=1;this._heap[t]=i,this._posLookup.put(i,t)},Object.defineProperty(c.prototype,"front",{get:function(){return this._heap[1]}}),Object.defineProperty(c.prototype,"maxSize",{get:function(){return this._size}}),Object.defineProperty(c.prototype,"size",{get:function(){return this._count}}),e.exports=c}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/util/SimplePriorityQueue.js","/util")},{"./SmashMap.js":22,"1YiZ5S":4,buffer:1}],22:[function(t,e,n){(function(t,n,i,r,o,s,a,u,f){var p=function(){this.keys=[],this.values=[]};p.prototype.constructor=p,p.prototype.put=function(t,e){var n=this.keys.indexOf(t);-1===n?(this.keys.push(t),this.values.push(e)):this.values[n]=e},p.prototype.get=function(t){var e=this.keys.indexOf(t);return-1!==e?this.values[e]:null},p.prototype.remove=function(t){var e=this.keys.indexOf(t);if(-1!==e){var n=this.keys.pop(),i=this.values.pop();e!==this.keys.length&&(this.keys[e]=n,this.values[e]=i)}},p.prototype.getKeyAt=function(t){return this.keys[t]},p.prototype.getValueAt=function(t){return this.values[t]},p.prototype.removeAll=function(){this.keys.length=0,this.values.length=0},Object.defineProperty(p.prototype,"length",{get:function(){return this.keys.length}}),e.exports=p}).call(this,t("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/util/SmashMap.js","/util")},{"1YiZ5S":4,buffer:1}]},{},[12]);